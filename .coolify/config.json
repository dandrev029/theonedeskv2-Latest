{
  "name": "TheOneDesk v2",
  "type": "docker-compose",
  "buildPack": "docker-compose",
  "dockerComposeFile": "docker-compose.yml",
  "envVars": [
    {
      "name": "APP_NAME",
      "value": "TheOneDesk"
    },
    {
      "name": "APP_ENV",
      "value": "production"
    },
    {
      "name": "APP_DEBUG",
      "value": "false"
    },
    {
      "name": "APP_URL",
      "value": "${COOLIFY_APP_URL}"
    },
    {
      "name": "LOG_CHANNEL",
      "value": "stack"
    },
    {
      "name": "LOG_LEVEL",
      "value": "error"
    },
    {
      "name": "DB_CONNECTION",
      "value": "mysql"
    },
    {
      "name": "DB_HOST",
      "value": "db"
    },
    {
      "name": "DB_PORT",
      "value": "3306"
    },
    {
      "name": "BROADCAST_DRIVER",
      "value": "pusher"
    },
    {
      "name": "CACHE_DRIVER",
      "value": "redis"
    },
    {
      "name": "QUEUE_CONNECTION",
      "value": "redis"
    },
    {
      "name": "SESSION_DRIVER",
      "value": "redis"
    },
    {
      "name": "SESSION_LIFETIME",
      "value": "120"
    },
    {
      "name": "REDIS_HOST",
      "value": "redis"
    },
    {
      "name": "REDIS_PORT",
      "value": "6379"
    },
    {
      "name": "MAIL_MAILER",
      "value": "smtp"
    }
  ],
  "secrets": [
    {
      "name": "APP_KEY",
      "description": "Laravel application key"
    },
    {
      "name": "DB_DATABASE",
      "description": "Database name"
    },
    {
      "name": "DB_USERNAME",
      "description": "Database username"
    },
    {
      "name": "DB_PASSWORD",
      "description": "Database password"
    },
    {
      "name": "PUSHER_APP_ID",
      "description": "Pusher app ID"
    },
    {
      "name": "PUSHER_APP_KEY",
      "description": "Pusher app key"
    },
    {
      "name": "PUSHER_APP_SECRET",
      "description": "Pusher app secret"
    },
    {
      "name": "PUSHER_APP_CLUSTER",
      "description": "Pusher app cluster"
    },
    {
      "name": "MAIL_HOST",
      "description": "SMTP mail host"
    },
    {
      "name": "MAIL_PORT",
      "description": "SMTP mail port"
    },
    {
      "name": "MAIL_USERNAME",
      "description": "SMTP mail username"
    },
    {
      "name": "MAIL_PASSWORD",
      "description": "SMTP mail password"
    },
    {
      "name": "MAIL_ENCRYPTION",
      "description": "SMTP mail encryption"
    },
    {
      "name": "MAIL_FROM_ADDRESS",
      "description": "Mail from address"
    },
    {
      "name": "MAIL_FROM_NAME",
      "description": "Mail from name"
    }
  ],
  "postDeployCommands": [
    "docker-compose exec -T app php artisan migrate --force",
    "docker-compose exec -T app php artisan optimize",
    "docker-compose exec -T app php artisan config:cache",
    "docker-compose exec -T app php artisan route:cache",
    "docker-compose exec -T app php artisan view:cache",
    "docker-compose exec -T app php artisan storage:link",
    "docker-compose exec -T app php artisan queue:restart"
  ],
  "healthCheckPath": "/api/health",
  "deploymentMethod": "coolify"
}
